{% extends 'base.html' %}

{% block title %}
Homepage
{% endblock %}

{% block content %}
<div id="main">
    <a name="TemplateInfo"></a>
    <div>
        <div style="display: flex; gap: 10px; margin: 0 20px;">
            <span>
                <img src="{{ url_for('static', filename='images/pfp.png') }}" width="64" height="64"
                     alt="user-avatar" class="float-left" style="border-radius: 100%;" />
            </span>
            <span style="width: 100%">
                <h1 style="font-size: 36px">{{ post.title }}</h1>
                <div style="width: 100%; margin-left: 20px; display: flex; justify-content: space-between; align-items: center;">
                    <h4>Author: User</h4>
                    <h5 id="post-date">{{ post.createdAt }}</h5>
                </div>
            </span>
        </div>
        <p>{{ post.text|safe }}</p>
        <p class="comments align-right">
            <a href="#">Read more</a> : <a href="#">Comments(7)</a> : <span id="post-date-static"></span>
        </p>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const dateElement = document.getElementById('post-date');
    const dateStr = dateElement.textContent.trim();
    const date = new Date(dateStr);
    if (isNaN(date.getTime())) {
        console.error("Invalid date format:", dateStr);
        return;
    }
    const options = { year: 'numeric', month: 'short', day: 'numeric' };
    const formattedDate = date.toLocaleDateString('en-US', options);
    dateElement.textContent = formattedDate;
});
</script>
{% endblock %}
